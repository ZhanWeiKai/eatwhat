# "今天吃什么" 项目实施计划

## 文档信息

| 项目 | 内容 |
|------|------|
| 项目名称 | 今天吃什么 - 点菜推送系统 |
| 文档版本 | v1.0 |
| 创建日期 | 2026-01-15 |
| 前端技术 | Android原生 Java (APK) |
| 后端技术 | Java Spring Boot 3.2.x + JDK 17 |
| 数据库 | MySQL 8.0+ |

---

## 一、项目概述

### 1.1 产品定位
"今天吃什么"是一款面向朋友、情侣的菜品推荐应用。用户可以浏览菜品、点菜并推送给好友，好友可以查看已推送的菜单列表，共同决定今天吃什么。

### 1.2 核心功能
- 用户登录（微信授权）
- 浏览菜品并添加到购物车
- 推送菜单给好友
- 查看已推送菜单
- 扫码添加好友
- 上传新菜品
- 权限控制（只能删除自己的推送）

### 1.3 系统架构

```
Android APK (手机)
    ↓ HTTP/REST API
Spring Boot Backend (localhost:8883)
    ↓ JDBC
MySQL Database (localhost:3306)
```

---

## 二、技术栈选型

### 2.1 Android前端

| 项目 | 选择 |
|------|------|
| 开发语言 | Java |
| 最低SDK版本 | API 33 (Android 13) |
| 编译SDK版本 | API 34 |
| 构建工具 | Gradle 8.x |
| 架构模式 | MVVM + Repository |
| 网络请求 | Retrofit 2.x |
| 图片加载 | Glide 4.x |
| 二维码 | ZXing Android Embedded |
| JSON解析 | Gson |

### 2.2 Spring Boot后端

| 项目 | 选择 |
|------|------|
| 框架 | Spring Boot 3.2.x |
| JDK版本 | JDK 17 |
| 构建工具 | Maven 3.9.x |
| 数据库 | MySQL 8.0+ |
| ORM | Spring Data JPA |
| WebSocket | Spring WebSocket |
| 消息队列 | STOMP协议 |
| API文档 | SpringDoc OpenAPI 3 |

---

## 三、第三方API依赖

### 3.1 需要API Key的服务

#### 微信登录/分享（详细说明）

##### 费用和资质要求

| 项目 | 详细说明 |
|------|----------|
| **平台** | 微信开放平台（不是微信公众平台） |
| **网址** | https://open.weixin.qq.com/ |
| **注册费用** | 免费 |
| **企业认证费用** | **300元/年**（必须） |
| **认证要求** | 需要企业营业执照（个人无法申请） |
| **审核时间** | 1-3个工作日 |

**⚠️ 重要说明**：
- 微信开放平台的"微信登录"功能**必须**企业认证才能使用
- 个人开发者**无法**使用微信登录功能
- 认证费用300元/年，每年需要续费
- 这是腾讯官方的规定，没有免费途径

##### 如何获取API Key（AppID和AppSecret）

**步骤1：注册微信开放平台账号**
```
1. 访问：https://open.weixin.qq.com/
2. 点击右上角"注册"
3. 使用邮箱注册账号
4. 完成基本信息填写
```

**步骤2：完成企业认证**
```
1. 登录微信开放平台
2. 进入"账号中心" → "开发者资质认证"
3. 点击"开始认证"
4. 填写企业信息：
   - 企业名称
   - 营业执照号
   - 企业地址
   - 法人信息
5. 上传营业执照照片
6. 支付认证费用：300元/年
7. 等待审核（1-3个工作日）
```

**步骤3：创建移动应用**
```
1. 认证通过后，进入"管理中心"
2. 点击"移动应用" → "创建移动应用"
3. 填写应用信息：
   - 应用名称（如：今天吃什么）
   - 应用简介
   - 应用官网（必须有可访问的网站）
   - 应用图标（108x108px）
   - 应用截图（5张）
4. 选择平台：Android
5. 填写Android签名和包名：
   - 包名：com.what2eat
   - 签名：使用keytool获取的MD5值
6. 提交审核（1-5个工作日）
```

**步骤4：获取AppID和AppSecret**
```
1. 审核通过后，在"管理中心"找到你的应用
2. 点击应用详情
3. 可以看到：
   - AppID：wxXXXXXXXXXXXXXXXX
   - AppSecret：XXXXXXXXXXXXXXXX（点击显示）
```

**签名获取方法**：
```bash
# 使用keytool获取应用签名的MD5值
keytool -list -v -keystore your-release-key.keystore
# 或在Android Studio中：
# Build -> Generate Signed Bundle/APK -> 记录签名
```

##### 在项目中使用API Key

**后端配置（application.yml）**：
```yaml
wechat:
  app-id: wxXXXXXXXXXXXXXXXX      # 你的AppID
  app-secret: XXXXXXXXXXXXXXXX     # 你的AppSecret
  redirect-uri: http://your-server.com/api/auth/wechat/callback
```

**Android配置（build.gradle）**：
```gradle
android {
    defaultConfig {
        manifestPlaceholders = [
            WX_APP_ID: "wxXXXXXXXXXXXXXXXX"
        ]
    }
}
```

**AndroidManifest.xml**：
```xml
<application>
    <!-- 微信回调Activity -->
    <activity
        android:name=".wxapi.WXEntryActivity"
        android:exported="true"
        android:launchMode="singleTask" />

    <!-- 微信AppID -->
    <meta-data
        android:name="WX_APP_ID"
        android:value="${WX_APP_ID}" />
</application>
```

##### 微信登录完整流程

```
┌─────────────┐
│ Android APP │
└──────┬──────┘
       │ 1. 点击微信登录
       ↓
┌──────────────┐
│ 微信SDK       │
│ 调用授权      │
└──────┬───────┘
       │ 2. 跳转微信APP
       ↓
┌──────────────┐
│ 用户在微信    │
│ 点击确认授权  │
└──────┬───────┘
       │ 3. 返回code
       ↓
┌──────────────┐
│ Android APP  │
│ 收到code     │
└──────┬───────┘
       │ 4. 发送code到后端
       ↓
┌──────────────┐          ┌─────────────┐
│ 后端服务器    │          │ 微信服务器   │
│ - 用code换取  │ ───────→ │ - 验证code   │
│   access_token│          │ - 返回用户   │
│ - 获取openid  │ ←─────── │   信息       │
└──────┬───────┘          └─────────────┘
       │ 5. 返回用户信息给APP
       ↓
┌──────────────┐
│ Android APP  │
│ 登录成功     │
└──────────────┘
```

##### 后端代码示例（Spring Boot）

```java
@RestController
@RequestMapping("/api/auth")
public class AuthController {

    @Value("${wechat.app-id}")
    private String appId;

    @Value("${wechat.app-secret}")
    private String appSecret;

    // 微信登录
    @PostMapping("/wechat")
    public ApiResponse<?> wechatLogin(@RequestBody WechatLoginRequest request) {
        String code = request.getCode();

        // 1. 用code换取access_token
        String url = "https://api.weixin.qq.com/sns/oauth2/access_token?" +
                    "appid=" + appId +
                    "&secret=" + appSecret +
                    "&code=" + code +
                    "&grant_type=authorization_code";

        String response = restTemplate.getForObject(url, String.class);
        JSONObject json = JSON.parseObject(response);

        String openid = json.getString("openid");
        String accessToken = json.getString("access_token");

        // 2. 获取用户信息
        String userInfoUrl = "https://api.weixin.qq.com/sns/userinfo?" +
                            "access_token=" + accessToken +
                            "&openid=" + openid;

        String userInfo = restTemplate.getForObject(userInfoUrl, String.class);
        JSONObject userJson = JSON.parseObject(userInfo);

        String nickname = userJson.getString("nickname");
        String avatar = userJson.getString("headimgurl");

        // 3. 保存或更新用户
        User user = userService.findByWechatOpenid(openid);
        if (user == null) {
            user = new User();
            user.setUserId(UUID.randomUUID().toString());
            user.setWechatOpenid(openid);
            user.setNickname(nickname);
            user.setAvatar(avatar);
            userService.save(user);
        }

        // 4. 返回token
        String token = jwtUtil.generateToken(user.getUserId());

        return ApiResponse.success(token);
    }
}
```

##### Android代码示例

```java
// 发送微信授权请求
IWXAPI api = WXAPIFactory.createWXAPI(context, APP_ID, true);
api.registerApp(APP_ID);

SendAuth.Req req = new SendAuth.Req();
req.scope = "snsapi_userinfo";
req.state = "what2eat_login";
api.sendReq(req);

// 在WXEntryActivity中接收回调
@Override
protected void onResp(BaseResp resp) {
    if (resp.getType() == ConstantsAPI.COMMAND_SENDAUTH) {
        SendAuth.Resp authResp = (SendAuth.Resp) resp;
        String code = authResp.code;

        // 发送code到后端
        authService.wechatLogin(code)
            .subscribe(token -> {
                // 保存token，登录成功
            });
    }
}
```

##### 免费替代方案

如果不想支付300元认证费用，可以使用以下方案：

**方案1：手机号+验证码登录**
- 使用阿里云短信或腾讯云短信
- 费用：约0.045元/条
- 个人可以申请
- 用户体验更好

**方案2：账号密码登录（本系统采用）** ⭐
- 用户注册账号（用户名+密码）
- 使用账号密码登录
- 完全免费，无需第三方认证
- 适合任何场景

**方案3：第三方登录（如Google、Facebook）**
- 免费使用
- 但国内用户不友好

### 3.2 不需要API Key的（开源库）

| 功能 | 解决方案 | 开源协议 |
|------|---------|---------|
| 二维码生成/扫描 | ZXing Android Embedded | Apache 2.0 |
| 网络请求 | Retrofit 2.x | Apache 2.0 |
| 图片加载 | Glide 4.x | BSD |
| JSON解析 | Gson | Apache 2.0 |

---

## 四、项目结构设计

### 总体目录结构

```
test/
├── android-app/                    # Android前端项目
├── springboot-backend/             # Spring Boot后端项目
├── docs/                           # 技术文档
├── PRD-点菜系统.md                # 产品需求文档
└── test-frontend/                 # HTML原型（参考）
```

### Android项目结构

```
android-app/
├── app/src/main/java/com/what2eat/
│   ├── ui/                        # UI层
│   │   ├── login/                 # 登录模块
│   │   ├── main/                  # 主页模块
│   │   ├── menu/                  # 点菜模块
│   │   ├── push/                  # 推送记录模块
│   │   ├── qrcode/                # 二维码模块
│   │   ├── upload/                # 上传菜品模块
│   │   └── profile/               # 个人信息模块
│   ├── data/                      # 数据层
│   │   ├── api/                   # API接口
│   │   ├── model/                 # 数据模型
│   │   ├── repository/            # 仓库层
│   │   └── local/                 # 本地存储
│   ├── utils/                     # 工具类
│   └── di/                        # 依赖注入
└── res/                           # 资源文件
```

### Spring Boot项目结构

```
springboot-backend/
├── src/main/java/com/what2eat/
│   ├── controller/                # 控制器层
│   ├── service/                   # 业务逻辑层
│   ├── repository/                # 数据访问层
│   ├── entity/                    # 实体类
│   ├── dto/                       # 数据传输对象
│   ├── config/                    # 配置类
│   ├── exception/                 # 异常处理
│   └── util/                      # 工具类
└── src/main/resources/
    ├── application.yml            # 应用配置
    └── db/migration/              # 数据库脚本
```

---

## 五、数据库设计

### 数据库连接信息

| 配置项 | 值 |
|--------|-----|
| 数据库类型 | MySQL 8.0+ |
| 地址 | localhost:3306 |
| 数据库名 | what2eat |
| 用户名 | root |
| 密码 | 123456 |
| 字符集 | UTF-8 |

### 数据表设计

#### 用户表 (user)

| 字段名 | 类型 | 说明 |
|--------|------|------|
| user_id | VARCHAR(64) | 用户唯一标识（主键） |
| username | VARCHAR(50) | 用户名（唯一索引） |
| password | VARCHAR(255) | 密码（加密存储） |
| nickname | VARCHAR(50) | 用户昵称 |
| avatar | VARCHAR(255) | 头像URL |
| created_at | TIMESTAMP | 注册时间 |
| updated_at | TIMESTAMP | 更新时间 |

#### 菜品表 (dish)

| 字段名 | 类型 | 说明 |
|--------|------|------|
| dish_id | VARCHAR(64) | 菜品唯一标识（主键） |
| name | VARCHAR(50) | 菜品名称 |
| description | VARCHAR(200) | 菜品描述 |
| price | DECIMAL(10,2) | 价格 |
| category | VARCHAR(20) | 分类 |
| image_url | VARCHAR(255) | 图片URL |
| uploader_id | VARCHAR(64) | 上传者ID |
| created_at | TIMESTAMP | 创建时间 |

#### 推送记录表 (push)

| 字段名 | 类型 | 说明 |
|--------|------|------|
| push_id | VARCHAR(64) | 推送唯一标识（主键） |
| pusher_id | VARCHAR(64) | 推送人ID |
| pusher_name | VARCHAR(50) | 推送人昵称 |
| pusher_avatar | VARCHAR(255) | 推送人头像 |
| dishes | JSON | 菜品列表 |
| total_amount | DECIMAL(10,2) | 总金额 |
| created_at | TIMESTAMP | 推送时间 |

#### 好友关系表 (friendship)

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | VARCHAR(64) | 记录唯一标识（主键） |
| user_id | VARCHAR(64) | 用户ID |
| friend_id | VARCHAR(64) | 好友ID |
| created_at | TIMESTAMP | 绑定时间 |

---

## 六、API接口设计

### 接口规范

- 基础URL：`http://服务器IP:8883/api`
- 请求格式：`application/json`
- 响应格式：`application/json`

### API接口列表

#### 认证模块

| 接口 | 方法 | 说明 |
|------|------|------|
| /auth/register | POST | 用户注册（用户名+密码） |
| /auth/login | POST | 用户登录（用户名+密码） |
| /auth/logout | POST | 退出登录 |

#### 菜品模块

| 接口 | 方法 | 说明 |
|------|------|------|
| /dishes | GET | 获取菜品列表 |
| /dishes | POST | 上传菜品 |
| /dishes/{id} | DELETE | 删除菜品 |

#### 推送模块

| 接口 | 方法 | 说明 |
|------|------|------|
| /push | POST | 推送菜单 |
| /push/list | GET | 获取推送列表 |
| /push/{id} | DELETE | 删除推送 |

#### 好友模块

| 接口 | 方法 | 说明 |
|------|------|------|
| /friends | GET | 获取好友列表 |
| /friends/add | POST | 添加好友 |

#### 文件上传

| 接口 | 方法 | 说明 |
|------|------|------|
| /upload/image | POST | 上传图片 |

#### WebSocket实时推送

| 端点 | 协议 | 说明 |
|------|------|------|
| /ws | WebSocket | WebSocket连接端点 |
| /topic/push | STOMP | 订阅推送消息 |
| /app/push | STOMP | 发送推送消息 |

**使用场景**：
- 当有新推送时，服务器主动推送给所有好友
- 实时更新推送列表
- 无需轮询，真正实时

---

## 七、UI设计规范

### 色彩系统

| 颜色名称 | 色值 | 使用场景 |
|----------|------|----------|
| 主色（橙色） | #FF6600 | 标题栏、按钮、价格 |
| 辅助色（白色） | #FFFFFF | 按钮、卡片背景 |
| 背景色 | #F5F5F5 | 页面背景 |
| 文字主色 | #333333 | 标题、正文 |
| 文字辅色 | #999999 | 描述、时间戳 |
| 删除按钮色 | #F5222D | 删除按钮 |

### 字体规范

| 使用场景 | 字体大小 | 字重 |
|----------|----------|------|
| 页面标题 | 18sp | Bold |
| 菜品名称 | 16sp | Bold |
| 按钮文字 | 16sp | Medium |
| 正文 | 14sp | Regular |
| 小字 | 12sp | Regular |

---

## 八、开发实施步骤

### 阶段一：环境准备（Day 1-2）

#### 后端环境
- 安装JDK 17
- 安装Maven 3.9.x
- 安装MySQL 8.0+
- 创建数据库 what2eat

#### Android环境
- 安装Android Studio
- 配置Android SDK 33

#### 项目创建
- 创建Spring Boot项目结构
- 创建Android项目结构
- 执行数据库初始化脚本

---

### 阶段二：后端开发（Day 3-5）

#### 模块1：用户认证
- 实体类：User
- Repository：UserRepository
- Service：AuthService
- Controller：AuthController

#### 模块2：菜品管理
- 实体类：Dish
- Repository：DishRepository
- Service：DishService
- Controller：DishController

#### 模块3：推送记录
- 实体类：Push
- Repository：PushRepository
- Service：PushService
- Controller：PushController

#### 模块4：好友关系
- 实体类：Friendship
- Repository：FriendshipRepository
- Service：FriendService
- Controller：FriendController

#### 模块5：文件上传
- Service：FileService
- Controller：FileController

#### 模块6：全局配置
- CORS跨域配置
- 全局异常处理
- API文档配置

---

### 阶段三：Android前端开发（Day 6-10）

#### 模块1：基础架构
- 配置Retrofit网络请求
- 配置Glide图片加载
- 创建Repository层
- 创建ViewModel基类

#### 模块2：登录页面
- LoginActivity + UI
- LoginViewModel
- 登录逻辑

#### 模块3：主页
- MainActivity + UI
- 功能入口按钮
- 用户信息展示

#### 模块4：点菜页面
- MenuActivity + UI
- 分类导航
- 菜品列表
- 购物车功能
- 推送菜单

#### 模块5：已推送菜单
- PushListActivity + UI
- 列表展示
- 权限控制
- 删除功能

#### 模块6：二维码功能
- 集成ZXing库
- 生成二维码（包含userId）
- 扫描二维码（解析userId）
- 通过userId添加好友

#### 模块7：上传菜品
- UploadActivity + UI
- 图片选择
- 表单输入
- 上传逻辑

#### 模块8：个人信息
- ProfileActivity + UI
- 用户信息展示
- 退出登录

---

### 阶段四：联调 & 测试（Day 11-12）

#### 功能测试
- 登录流程测试
- 点菜流程测试
- 推送流程测试
- 删除权限测试
- 二维码功能测试
- 上传菜品测试

#### 兼容性测试
- 不同Android版本测试
- 不同屏幕尺寸测试

#### 性能测试
- 图片加载优化
- 列表滑动优化

---

### 阶段五：文档 & 打包（Day 13-14）

#### 文档编写
- API接口文档
- 数据库设计文档
- 业务流程图

#### 打包发布
- 生成APK（Debug/Release）
- 后端打包（JAR）
- 部署文档

---

## 九、核心业务流程

### 登录流程（账号密码）

```
打开APP → 登录页面 → 输入用户名和密码 → 调用登录API → 验证成功 → 保存Token → 进入主页
```

**首次使用**：
```
打开APP → 登录页面 → 点击"注册" → 输入用户名/密码/昵称 → 注册成功 → 自动登录
```

### 点菜推送流程

```
主页点击"开始点菜" → 选择菜品添加到购物车 → 查看购物车 → 点击推送 → 后端保存 → WebSocket推送给好友 → 返回主页
```

### 删除权限控制

```
遍历推送列表 → 判断 pusher_id == user_id → 是：显示删除按钮 / 否：不显示
```

### 扫码添加好友流程

```
主页点击"添加好友" → 显示我的二维码（包含userId）
   或
主页点击"扫一扫" → 扫描好友二维码 → 解析出friendId → 调用添加好友API → 添加成功
```

---

## 十、开发配置说明

### 后端配置 (application.yml)

```yaml
server:
  port: 8883

spring:
  datasource:
    url: jdbc:mysql://localhost:3306/what2eat?useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: 123456
    driver-class-name: com.mysql.cj.jdbc.Driver

  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB

file:
  upload-dir: ./uploads
```

### Android网络配置

#### 配置说明

根据不同的测试场景，需要配置不同的后端地址：

| 测试场景 | 后端地址 | 说明 |
|----------|----------|------|
| **真机测试（同一WiFi）** | `http://192.168.x.x:8883` | 使用电脑的局域网IP |
| **Android模拟器** | `http://10.0.2.2:8883` | 模拟器特殊地址 |
| **电脑本机** | `http://127.0.0.1:8883` | 只能本机访问 |

#### 如何获取电脑的局域网IP

**Windows系统：**
```bash
# 打开命令提示符，输入：
ipconfig

# 查找 "无线局域网适配器 WLAN" 或 "以太网适配器" 下的 IPv4 地址
# 例如：192.168.1.100
```

**Mac/Linux系统：**
```bash
# 终端输入：
ifconfig

# 查找 en0 或 wlan0 下的 inet 地址
# 例如：192.168.1.100
```

#### Android配置 (build.gradle)

```gradle
android {
    compileSdk 34

    defaultConfig {
        applicationId "com.what2eat"
        minSdk 33
        targetSdk 33
    }

    buildTypes {
        debug {
            // 真机测试：使用电脑的局域网IP（根据实际情况修改）
            buildConfigField "String", "BASE_URL", "\"http://192.168.1.100:8883/api/\""

            // 模拟器测试：使用10.0.2.2
            // buildConfigField "String", "BASE_URL", "\"http://10.0.2.2:8883/api/\""
        }
        release {
            // 生产环境：配置实际的服务器地址
            buildConfigField "String", "BASE_URL", "\"http://YOUR_SERVER_IP:8883/api/\""
        }
    }
}
```

#### 网络权限配置 (AndroidManifest.xml)

```xml
<manifest>
    <!-- 网络权限 -->
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />

    <!-- 明文流量允许（HTTP） -->
    <application
        android:usesCleartextTraffic="true"
        ...>
        ...
    </application>
</manifest>
```

#### WebSocket配置

**后端WebSocket配置：**
```java
@Configuration
@EnableWebSocketMessageBroker
public class WebSocketConfig implements WebSocketMessageBrokerConfigurer {

    @Override
    public void configureMessageBroker(MessageBrokerRegistry config) {
        // 启用简单消息代理，用于推送消息给客户端
        config.enableSimpleBroker("/topic");
        // 客户端发送消息的前缀
        config.setApplicationDestinationPrefixes("/app");
    }

    @Override
    public void registerStompEndpoints(StompEndpointRegistry registry) {
        // WebSocket端点
        registry.addEndpoint("/ws")
                .setAllowedOriginPatterns("*")
                .withSockJS();
    }
}
```

**Android WebSocket连接：**
```java
// 使用OkHttp WebSocket
String wsUrl = "http://192.168.1.100:8883/ws";
OkHttpClient client = new OkHttpClient();

Request request = new Request.Builder()
    .url(wsUrl)
    .build();

WebSocketListener listener = new WebSocketListener() {
    @Override
    public void onMessage(WebSocket webSocket, String text) {
        // 接收服务器推送的消息
        Log.d("WebSocket", "收到消息: " + text);
    }
};

WebSocket ws = client.newWebSocket(request, listener);
```

---

## 十一、测试要点

### 功能测试清单

- 登录功能
- 菜品列表加载
- 添加购物车
- 推送菜单
- 查看推送列表
- 删除自己的推送
- 不能删除他人推送
- 生成/扫描二维码
- 添加好友
- 上传菜品

### 权限测试

- 用户A无法删除用户B的推送
- 用户B无法删除用户A的推送
- 用户只能删除自己的推送

---

## 十二、技术方案确认（已完成）

### ✅ Q1: 登录方案 - **账号密码登录**

**已确认方案**：
- 用户注册：输入用户名、密码、昵称
- 用户登录：使用用户名和密码登录
- 密码加密：使用BCrypt加密存储
- Token认证：使用JWT Token进行身份验证
- 无需第三方认证，完全免费

### ✅ Q2: 实时推送方案 - **WebSocket**

**已确认方案**：
- 后端：Spring WebSocket + STOMP协议
- 前端：OkHttp WebSocket客户端
- 推送场景：
  - 新推送通知：当用户推送菜单后，好友实时收到通知
  - 实时更新：推送列表自动更新，无需手动刷新
- 连接地址：`ws://192.168.x.x:8883/ws`

### ✅ Q3: 服务器部署 - **本地部署**

**已确认方案**：
- 后端部署：本地电脑（localhost:127.0.0.1:8883）
- 数据库：本地MySQL（localhost:3306）
- 网络配置：
  - **真机测试**：手机和电脑连接同一WiFi，使用电脑局域网IP（如192.168.1.100）
  - **模拟器测试**：使用特殊地址10.0.2.2访问本机
  - **本机测试**：使用127.0.0.1

### ✅ Q4: 二维码功能 - **userId绑定**

**已确认方案**：
- 我的二维码：包含当前用户的userId
- 扫描二维码：解析出好友的userId
- 添加好友：通过userId发送好友请求
- 使用开源库：ZXing Android Embedded（免费）

---

## 所有技术方案已确认 ✅

可以开始创建项目！

---

## 十三、参考资料

- [Android官方文档](https://developer.android.com/)
- [Spring Boot官方文档](https://spring.io/projects/spring-boot)
- [ZXing Android库](https://github.com/journeyapps/zxing-android-embedded)
- [Retrofit官方文档](https://square.github.io/retrofit/)

---

**文档结束**

最后更新：2026-01-15
